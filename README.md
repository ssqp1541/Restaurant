# 천안시 맛집 안내 웹페이지

2025년 충청남도 천안시의 맛집을 소개하는 웹사이트입니다.

## 📌 프로젝트 개요

천안시의 추천 맛집 정보를 제공하며, 각 매장의 대표 메뉴, Naver 블로그 리뷰, 고객 후기를 한눈에 볼 수 있습니다.

## 🚀 시작하기

### 필수 요구사항
- Python 3.8 이상
- pip (Python 패키지 관리자)

### 설치 방법

1. **프로젝트 클론 또는 다운로드**

2. **가상 환경 생성 (권장)**
   ```bash
   # Windows
   python -m venv venv
   venv\Scripts\activate
   
   # macOS/Linux
   python3 -m venv venv
   source venv/bin/activate
   ```

3. **필요한 패키지 설치**
   ```bash
   pip install -r requirements.txt
   ```

4. **Flask 서버 실행**
   ```bash
   python app.py
   ```

5. **웹 브라우저에서 접속**
   - http://localhost:5000 으로 접속

## 📁 프로젝트 구조

```
Restaurant/
├── app.py                    # Flask 메인 애플리케이션
├── requirements.txt          # Python 패키지 의존성
├── .gitignore               # Git 무시 파일 목록
│
├── templates/               # Jinja2 템플릿 폴더
│   ├── index.html           # 메인 HTML 템플릿
│   └── error.html           # 에러 페이지 템플릿
│
├── static/                  # 정적 파일 폴더
│   ├── css/
│   │   └── main.css        # 스타일시트
│   └── js/
│       └── main.js         # JavaScript (모달 기능)
│
├── utils/                   # Python 유틸리티 모듈
│   ├── __init__.py         # 패키지 초기화 파일
│   └── data_loader.py      # 데이터 로딩 및 검증 유틸리티
│
├── data/                    # 데이터 파일 폴더
│   └── restaurants.json    # 매장 데이터 (JSON 형식)
│
├── images/                  # 이미지 파일 폴더
│   └── restaurants/        # 매장별 메뉴 이미지
│       ├── restaurant1/     # 매장1 메뉴 이미지 (menu1.jpg, menu2.jpg, menu3.jpg)
│       ├── restaurant2/     # 매장2 메뉴 이미지
│       └── restaurant3/     # 매장3 메뉴 이미지
│
├── README.md                # 프로젝트 설명서 (현재 파일)
├── PROJECT_GUIDE.md         # 프로젝트 개발 가이드
├── PRD.md                   # 제품 요구사항 문서 (Product Requirements Document)
└── QUICK_START.md           # 빠른 시작 가이드
```

### 주요 디렉토리 설명

#### 백엔드 파일
- **`app.py`**: Flask 웹 애플리케이션의 진입점
  - 메인 페이지 라우트 (`/`)
  - REST API 엔드포인트 (`/api/restaurants`)
  - 이미지 서빙 라우트 (`/images/<filename>`)
  - 에러 핸들러 (404, 500)

#### 템플릿 및 정적 파일
- **`templates/`**: Jinja2 템플릿 파일
  - `index.html`: 메인 페이지 템플릿 (서버 사이드 렌더링)
  - `error.html`: 에러 페이지 템플릿
- **`static/`**: 정적 파일 (Flask가 자동으로 서빙)
  - `css/main.css`: 스타일시트
  - `js/main.js`: 클라이언트 사이드 JavaScript (이미지 라이트박스)

#### 유틸리티 및 데이터
- **`utils/`**: Python 유틸리티 모듈
  - `data_loader.py`: 데이터 로딩, 저장, 검증 함수
  - `__init__.py`: 패키지 초기화 파일
- **`data/`**: JSON 형식의 매장 데이터
  - `restaurants.json`: 모든 매장 정보 저장
- **`images/`**: 매장별 메뉴 이미지
  - `restaurants/[매장명]/`: 매장별 폴더로 구분
  - 각 매장당 3개의 메뉴 이미지 (menu1.jpg, menu2.jpg, menu3.jpg)

#### 문서 파일
- **`README.md`**: 프로젝트 개요 및 설치 가이드
- **`PROJECT_GUIDE.md`**: 단계별 개발 가이드 및 주의사항
- **`PRD.md`**: 제품 요구사항 문서
- **`QUICK_START.md`**: 빠른 시작 가이드

## 📊 데이터 구조

### JSON 스키마

각 매장은 다음 정보를 포함하는 JSON 객체입니다:

```json
{
  "name": "매장명 (필수)",
  "address": "주소 (선택)",
  "phone": "전화번호 (선택)",
  "hours": "영업시간 (선택)",
  "blogLinks": [
    {
      "url": "Naver 블로그 URL",
      "title": "블로그 제목"
    }
  ],
  "menuImages": [
    "images/restaurants/매장명/menu1.jpg",
    "images/restaurants/매장명/menu2.jpg",
    "images/restaurants/매장명/menu3.jpg"
  ],
  "reviews": [
    {
      "text": "고객 후기 텍스트",
      "rating": 5
    }
  ]
}
```

### 필드 설명

| 필드 | 타입 | 필수 | 설명 |
|------|------|------|------|
| `name` | string | ✅ | 매장명 |
| `address` | string | ❌ | 매장 주소 |
| `phone` | string | ❌ | 전화번호 |
| `hours` | string | ❌ | 영업시간 |
| `blogLinks` | array | ❌ | Naver 블로그 링크 배열 (최대 3개 권장) |
| `blogLinks[].url` | string | ✅ | 블로그 URL |
| `blogLinks[].title` | string | ❌ | 블로그 제목 |
| `menuImages` | array | ❌ | 메뉴 이미지 경로 배열 (3개 권장) |
| `reviews` | array | ❌ | 고객 후기 배열 (3개 권장) |
| `reviews[].text` | string | ✅ | 후기 내용 |
| `reviews[].rating` | number | ❌ | 평점 (1-5) |

### 데이터 위치

- **파일 경로**: `data/restaurants.json`
- **형식**: JSON 배열 (매장 객체들의 리스트)
- **인코딩**: UTF-8
- **유효성 검사**: `utils/data_loader.py`의 `validate_restaurant_data()` 함수 사용

## 📚 프로젝트 문서

프로젝트 관련 상세 문서는 다음을 참고하세요:

- **[PRD.md](./PRD.md)**: 제품 요구사항 문서 (Product Requirements Document)
  - 제품 개요 및 목표
  - 기능 요구사항 및 우선순위
  - 비기능 요구사항 (성능, 호환성, 접근성 등)
  - 사용자 스토리 및 수용 기준
  - 기술 스택 및 제약사항
  - 성공 지표 및 일정

- **[PROJECT_GUIDE.md](./PROJECT_GUIDE.md)**: 프로젝트 개발 가이드
  - 단계별 개발 절차
  - 기술 스택 상세 설명
  - 주의사항 및 베스트 프랙티스

- **[QUICK_START.md](./QUICK_START.md)**: 빠른 시작 가이드
  - 설치 및 실행 방법
  - 문제 해결 가이드

## ✅ To-Do List

프로젝트 진행 상황을 추적하기 위한 체크리스트입니다. 자세한 내용은 [PROJECT_GUIDE.md](./PROJECT_GUIDE.md)를 참고하세요.

### 1단계: 프로젝트 구조 설정 _ 작업완료
- Python 가상 환경 생성
- Flask 및 필요한 패키지 설치
- 프로젝트 폴더 구조 생성 (templates, static, utils 등)
- 이미지 저장 폴더 생성 (`images/`)

### 2단계: 데이터 수집 및 준비
- [ ] 천안시 맛집 리스트 선정
- [ ] 각 매장별 Naver 블로그 3개 수집
- [ ] 대표 메뉴 이미지 3개 수집 (저작권 확인 필수)
- [ ] 고객 후기 3개 수집
- [ ] 데이터를 JSON 형식으로 구조화

### 3단계: 웹페이지 디자인
- [x] 반응형 레이아웃 설계
- [x] 매장 카드 디자인
- [x] 이미지 갤러리 디자인
- [x] 후기 섹션 디자인
- [ ] 네비게이션 메뉴 설계

### 4단계: Flask 애플리케이션 및 템플릿 작성
- [x] Flask 앱 구조 작성 (`app.py`)
- [x] Jinja2 템플릿 작성 (`templates/index.html`)
- [x] 메타 태그 설정 (SEO, 반응형)
- [x] 매장 정보 섹션 구조화
- [x] 블로그 링크, 이미지, 후기 영역 마크업

### 5단계: CSS 스타일링
- [x] 모던한 UI 디자인 적용
- [x] 반응형 디자인 구현 (모바일, 태블릿, 데스크톱)
- [x] 애니메이션 효과 추가
- [x] 색상 테마 설정

### 6단계: Python 백엔드 및 JavaScript 기능 구현
- [x] Python 데이터 로더 유틸리티 작성 (`utils/data_loader.py`)
- [x] Flask 라우트 및 API 엔드포인트 구현
- [x] JavaScript 이미지 갤러리 기능 (라이트박스 등)
- [ ] 필터링/검색 기능 (선택사항)
- [ ] 스크롤 애니메이션

### 7단계: 데이터 통합 및 Python 스크립트 활용
- [ ] JSON 파일에 매장 데이터 입력
- [ ] Python 유틸리티를 사용한 데이터 검증
- [ ] 이미지 파일 경로 연결
- [ ] 블로그 링크 연결
- [ ] 후기 데이터 입력

### TDD 단계: RED (실패하는 테스트 작성)
TDD(Test-Driven Development)의 첫 번째 단계로, 실패하는 테스트를 먼저 작성합니다.

#### 데이터 로더 유틸리티 테스트 (RED) 
- [ ] `load_restaurants_data()` 함수 테스트
  - [ ] 정상적인 JSON 파일 로드 확인
  - [ ] 존재하지 않는 파일 처리 확인
  - [ ] 잘못된 JSON 형식 처리 확인
  - [ ] 빈 파일 처리 확인
- [ ] `save_restaurants_data()` 함수 테스트
  - [ ] 데이터 저장 성공 확인
  - [ ] 저장된 데이터 검증 확인
  - [ ] 권한 오류 처리 확인
- [ ] `validate_restaurant_data()` 함수 테스트
  - [ ] 필수 필드(name) 검증 확인
  - [ ] blogLinks 배열 검증 확인
  - [ ] blogLinks 내부 객체 검증 확인
  - [ ] menuImages 배열 검증 확인
  - [ ] reviews 배열 검증 확인
  - [ ] reviews 내부 객체 검증 확인
- [ ] `add_restaurant()` 함수 테스트
  - [ ] 유효한 데이터 추가 확인
  - [ ] 무효한 데이터 추가 실패 확인
  - [ ] 중복 매장명 처리 확인
- [ ] `get_restaurant_by_name()` 함수 테스트
  - [ ] 존재하는 매장 검색 확인
  - [ ] 존재하지 않는 매장 검색 확인 (None 반환)
  - [ ] 대소문자 구분 확인

#### 통합 테스트 (RED)
- [ ] Flask 앱과 데이터 로더 통합 테스트
  - [ ] 데이터 로드 후 템플릿 렌더링 확인
  - [ ] API 엔드포인트와 데이터 로더 연동 확인
- [ ] 데이터 검증 통합 테스트
  - [ ] 잘못된 데이터 형식 처리 확인
  - [ ] 데이터 검증 실패 시 에러 처리 확인

#### 데이터 로더 유틸리티 테스트 (RED)
- [x] `load_restaurants_data()` 함수 테스트
  - [x] 정상적인 JSON 파일 로드 확인
  - [x] 존재하지 않는 파일 처리 확인
  - [x] 잘못된 JSON 형식 처리 확인
  - [x] 빈 파일 처리 확인
- [x] `save_restaurants_data()` 함수 테스트
  - [x] 데이터 저장 성공 확인
  - [x] 저장된 데이터 검증 확인
  - [x] 권한 오류 처리 확인 (RED: 실패하는 테스트 작성 완료)
- [x] `validate_restaurant_data()` 함수 테스트
  - [x] 필수 필드(name) 검증 확인
  - [x] blogLinks 배열 검증 확인
  - [x] blogLinks 내부 객체 검증 확인
  - [x] menuImages 배열 검증 확인
  - [x] reviews 배열 검증 확인
  - [x] reviews 내부 객체 검증 확인
- [x] `add_restaurant()` 함수 테스트
  - [x] 유효한 데이터 추가 확인
  - [x] 무효한 데이터 추가 실패 확인
  - [x] 중복 매장명 처리 확인
- [x] `get_restaurant_by_name()` 함수 테스트
  - [x] 존재하는 매장 검색 확인
  - [x] 존재하지 않는 매장 검색 확인 (None 반환)
  - [x] 대소문자 구분 확인

#### 통합 테스트 (RED)
- [x] Flask 앱과 데이터 로더 통합 테스트
  - [x] 데이터 로드 후 템플릿 렌더링 확인
  - [x] API 엔드포인트와 데이터 로더 연동 확인
- [x] 데이터 검증 통합 테스트
  - [x] 잘못된 데이터 형식 처리 확인 (RED: 실패하는 테스트 작성 완료)
  - [x] 데이터 검증 실패 시 에러 처리 확인 (RED: 실패하는 테스트 작성 완료)

#### 테스트 실행 및 확인 (RED)
- [x] 모든 테스트 실행 (`pytest` 또는 `python -m pytest`)
- [x] 모든 테스트가 실패하는지 확인 (RED 단계 목표) - 일부 테스트 실패 확인됨
- [x] 테스트 커버리지 확인 도구 설정 (pytest-cov)
- [x] 테스트 실행 결과 문서화

### TDD 단계: GREEN (실패하는 테스트를 통과시키는 코드 작성)
TDD(Test-Driven Development)의 두 번째 단계로, RED 단계에서 작성한 실패하는 테스트를 통과시키는 최소한의 코드를 작성합니다.

자세한 내용은 [IMPLEMENTATION_ROADMAP.md](./Report/IMPLEMENTATION_ROADMAP.md)를 참고하세요.

#### 🔴 우선순위 1 (Critical - 즉시 구현 필요)

##### 기능 요구사항

- [ ] **F1. 에러 핸들러 개선** (예상 작업 시간: 2-3시간)
  - [ ] F1.1: 500 에러 페이지 테스트 통과
    - [ ] 500 에러를 발생시키는 테스트 라우트 추가 (`/test-error-500`)
    - [ ] 에러 핸들러 내부 로직 테스트 커버리지 향상
    - [ ] 관련 테스트: `test_500_error_page`
    - [ ] 목표 커버리지: 100%
  - [ ] F1.2: 에러 핸들러 상세 테스트
    - [ ] 다양한 에러 시나리오 테스트
    - [ ] 에러 메시지 검증

- [ ] **F2. 데이터 저장 권한 오류 처리** (예상 작업 시간: 3-4시간)
  - [ ] F2.1: 권한 오류 예외 처리 구현
    - [ ] `PermissionError` 예외 처리
    - [ ] 사용자 친화적 에러 메시지 제공
    - [ ] 관련 테스트: `test_save_permission_error`
    - [ ] 목표 커버리지: 100%
  - [ ] F2.2: 저장 함수 예외 처리 강화
    - [ ] 다양한 파일 시스템 오류 처리
    - [ ] 디스크 공간 부족 처리

- [ ] **F3. 데이터 검증 에러 처리** (예상 작업 시간: 4-5시간)
  - [ ] F3.1: 잘못된 데이터 형식 처리
    - [ ] 잘못된 JSON 구조 감지
    - [ ] 필수 필드 누락 감지
    - [ ] 타입 불일치 감지
    - [ ] 명확한 에러 메시지 반환
    - [ ] 관련 테스트: `test_invalid_data_format_handling`
    - [ ] 목표 커버리지: 100%
  - [ ] F3.2: 데이터 검증 실패 시 에러 처리
    - [ ] 검증 실패 시 상세한 에러 정보 제공
    - [ ] 로깅 기능 추가
    - [ ] 사용자에게 명확한 피드백 제공
    - [ ] 관련 테스트: `test_data_validation_failure_error_handling`
    - [ ] 목표 커버리지: 100%

##### 비기능 요구사항

- [ ] **N1. 테스트 커버리지 향상** (예상 작업 시간: 8-10시간)
  - [ ] N1.1: 전체 커버리지 63% → 80%+
  - [ ] N1.2: 데이터 로더 커버리지 23% → 80%+
  - [ ] N1.3: Flask 앱 커버리지 71% → 85%+
  - [ ] N1.4: 커버리지 측정 자동화
    - [ ] CI/CD 파이프라인에 커버리지 체크 추가
    - [ ] 커버리지 임계값 설정 (80%)

- [ ] **N2. 에러 처리 및 로깅** (예상 작업 시간: 4-5시간)
  - [ ] N2.1: 로깅 시스템 구축
    - [ ] Python logging 모듈 활용
    - [ ] 로그 레벨 설정 (DEBUG, INFO, WARNING, ERROR)
    - [ ] 로그 파일 저장
  - [ ] N2.2: 에러 메시지 표준화
    - [ ] 일관된 에러 메시지 형식
    - [ ] 사용자 친화적 메시지
    - [ ] 개발자용 상세 정보
  - [ ] N2.3: 예외 처리 일관성
    - [ ] 모든 함수에서 일관된 예외 처리
    - [ ] 예외 체인 유지
    - [ ] 컨텍스트 정보 포함

#### 🟠 우선순위 2 (High - 단기 구현 필요)

##### 기능 요구사항

- [ ] **F4. 데이터 로더 예외 처리 강화** (예상 작업 시간: 6-8시간)
  - [ ] F4.1: 파일 존재하지 않을 때 처리 (라인 23-24)
    - [ ] 명확한 에러 메시지
    - [ ] 로깅 추가
    - [ ] 목표 커버리지: 100%
  - [ ] F4.2: JSON 디코딩 에러 처리 (라인 31-36)
    - [ ] JSON 구문 오류 감지
    - [ ] 부분적 JSON 파싱 오류 처리
    - [ ] 상세한 에러 정보 제공
    - [ ] 목표 커버리지: 100%
  - [ ] F4.3: 검증 함수 다양한 검증 경로 (라인 74-102)
    - [ ] 모든 검증 경로 테스트
    - [ ] 엣지 케이스 처리
    - [ ] 목표 커버리지: 100%
  - [ ] F4.4: add_restaurant 검증 실패 경로 (라인 116-121)
    - [ ] 검증 실패 시 상세 정보 제공
    - [ ] 목표 커버리지: 100%
  - [ ] F4.5: get_restaurant_by_name 검색 로직 (라인 135-138)
    - [ ] 다양한 검색 시나리오 테스트
    - [ ] 목표 커버리지: 100%

- [ ] **F5. 엣지 케이스 처리** (예상 작업 시간: 4-5시간)
  - [ ] F5.1: 빈 데이터 처리
    - [ ] 빈 JSON 파일 처리
    - [ ] 빈 배열 처리
    - [ ] 빈 객체 처리
  - [ ] F5.2: 매우 큰 데이터 처리
    - [ ] 대용량 JSON 파일 처리
    - [ ] 메모리 최적화
    - [ ] 스트리밍 파싱 고려
  - [ ] F5.3: 특수 문자 처리
    - [ ] 유니코드 문자 처리
    - [ ] 이스케이프 문자 처리
    - [ ] 경로 특수 문자 처리
  - [ ] F5.4: 중복 매장명 처리
    - [ ] 중복 감지 기능
    - [ ] 중복 처리 정책 정의
    - [ ] 사용자 알림

##### 비기능 요구사항

- [ ] **N3. 코드 품질 개선** (예상 작업 시간: 6-8시간)
  - [ ] N3.1: 코드 리팩토링
    - [ ] 중복 코드 제거
    - [ ] 함수 분리 및 모듈화
    - [ ] 명확한 네이밍
  - [ ] N3.2: 타입 힌팅 강화
    - [ ] 모든 함수에 타입 힌팅 추가
    - [ ] mypy를 사용한 타입 체크
  - [ ] N3.3: 문서화 개선
    - [ ] Docstring 보완
    - [ ] 인라인 주석 추가
    - [ ] API 문서화

- [ ] **N4. 성능 최적화** (예상 작업 시간: 4-6시간)
  - [ ] N4.1: 데이터 로딩 최적화
    - [ ] 캐싱 메커니즘 구현
    - [ ] 지연 로딩 고려
    - [ ] 메모리 사용 최적화
  - [ ] N4.2: 테스트 실행 시간 최적화
    - [ ] 현재: 0.1-0.2초
    - [ ] 목표: 0.1초 이하 유지
  - [ ] N4.3: 대용량 데이터 처리
    - [ ] 스트리밍 파싱
    - [ ] 배치 처리
    - [ ] 메모리 효율성

#### 🟡 우선순위 3 (Medium - 중기 구현 필요)

##### 기능 요구사항

- [ ] **F6. 통합 테스트 강화** (예상 작업 시간: 5-6시간)
  - [ ] F6.1: 실제 데이터 파일을 사용한 통합 테스트
    - [ ] 실제 restaurants.json 파일 사용
    - [ ] 다양한 데이터 시나리오 테스트
  - [ ] F6.2: Flask 앱과 데이터 로더 연동 테스트 강화
    - [ ] 데이터 로드 실패 시나리오
    - [ ] 데이터 검증 실패 시나리오

- [ ] **F7. API 엔드포인트 개선** (예상 작업 시간: 3-4시간)
  - [ ] F7.1: API 에러 응답 표준화
    - [ ] 일관된 에러 응답 형식
    - [ ] HTTP 상태 코드 적절한 사용
  - [ ] F7.2: API 문서화
    - [ ] Swagger/OpenAPI 문서
    - [ ] API 사용 예제

##### 비기능 요구사항

- [ ] **N5. 보안 강화** (예상 작업 시간: 5-6시간)
  - [ ] N5.1: 입력 검증 강화
    - [ ] SQL Injection 방지 (현재는 JSON이지만 미래 대비)
    - [ ] XSS 방지
    - [ ] 경로 탐색 공격 방지
  - [ ] N5.2: 파일 접근 보안
    - [ ] 파일 경로 검증
    - [ ] 권한 체크
    - [ ] 안전한 파일 처리

- [ ] **N6. 모니터링 및 관찰성** (예상 작업 시간: 4-5시간)
  - [ ] N6.1: 메트릭 수집
    - [ ] 요청 수
    - [ ] 응답 시간
    - [ ] 에러율
  - [ ] N6.2: 헬스 체크 엔드포인트
    - [ ] `/health` 엔드포인트
    - [ ] 데이터베이스 연결 상태
    - [ ] 파일 시스템 접근 가능 여부

#### GREEN 단계 성공 기준
- [ ] 모든 RED 단계 실패 테스트 통과
- [ ] 전체 커버리지 75% 이상
- [ ] 데이터 로더 커버리지 60% 이상
- [ ] Flask 앱 커버리지 80% 이상

### 8단계: 테스트 및 최적화
- [ ] Flask 서버 실행 및 테스트
- [ ] 크로스 브라우저 테스트
- [ ] 모바일 반응형 테스트
- [ ] 이미지 최적화 (용량, 로딩 속도)
- [ ] Python 코드 최적화
- [ ] 성능 최적화

### 9단계: 배포 준비
- [x] 최종 검토
- [x] README 파일 작성 (Python 설치 및 실행 방법 포함)
- [x] requirements.txt 확인
- [ ] 배포 환경 설정 (예: Heroku, AWS, PythonAnywhere 등)

## ⚠️ 주의사항

자세한 주의사항은 `PROJECT_GUIDE.md` 파일을 참고하세요.

주요 주의사항:
- 이미지 저작권 확인 필수
- 개인정보 보호법 준수
- 반응형 디자인 구현
- 이미지 최적화

## 📝 라이선스

이 프로젝트는 교육 및 개인 사용 목적으로 제작되었습니다.

## 👤 작성자

2025년 천안시 맛집 프로젝트

